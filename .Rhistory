year = parse_number(year)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "두수")
View(breeding)
breeding <- read_xlsx("Dataset/202122사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "두수")
View(breeding)
slaughter <- read_xlsx("Dataset/1422도축.xlsx", sheet = 2)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "두수")
View(breeding)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "두수") %>%
colnames <- c(year, month, kind, gender, age, number)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "두수") %>%
colnames <- c(year, month, kind, gender, age, number)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "두수") %>%
colnames(breeding) <- c(year, month, kind, gender, age, unit)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "두수") %>%
colnames(breeding) <- c(year, month, kind, gender, age, unit)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "두수")
colnames(breeding) <- c(year, month, kind, gender, age, unit)
colnames(breeding)
colnames(breeding) <- c(kind, gender, age, unit)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "두수")
colnames(breeding) <- c("year", "month", "kind", "gender", "age", "unit")
View(breeding)
colnames(breeding) <- c("year", "month", "kind", "gender", "age", "count")
View(slaughter)
slaughter <- read_xlsx("Dataset/1422도축.xlsx", sheet = 2)
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2)
head(slaughter)
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년")
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 4:25, values_to = "두수")
head(slaughter)
slaughter[4]
slaughter[3]
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 4:25, values_to = "두수")
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:25, values_to = "두수")
head(slaughter)
View(slaughter)
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
# filter(구분...3 != '소계') %>%
# pivot_longer(cols= 5:25, values_to = "두수")
View(slaughter)
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
)
# %>%
# filter(구분...3 != '소계') %>%
# pivot_longer(cols= 5:25, values_to = "두수")
View(slaughter)
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "두수")
View(slaughter)
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "두수", names_to = "age")
View(slaughter)
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "두수", names_to = "age") %>%
rename("구분...2" = "kind", "구분...3" = "gender")
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
rename("구분...2" = "kind", "구분...3" = "gender") %>%
pivot_longer(cols= 5:26, values_to = "두수", names_to = "age")
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "두수", names_to = "age")
rename("구분...2" = "kind", "구분...3" = "gender") %>%
rename("구분...2" = "kind", "구분...3" = "gender")
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "두수", names_to = "age") %>%
rename("kind" = "구분...2", "gender" = "구분...3")
View(slaughter)
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "count", names_to = "age") %>%
rename("kind" = "구분...2", "gender" = "구분...3")
View(slaughter)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "count", "age") %>%
rename("kind" = "구분...2", "gender" = "구분...3")
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "count", "age")
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "count", "age")
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "count")
View(breeding)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "count", names_to = "age")
View(breeding)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "count", names_to = "age")  %>%
rename("kind" = "구분...2", "gender" = "구분...3")
View(breeding)
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "count", names_to = "age") %>%
rename("kind" = "구분...2", "gender" = "구분...3")  %>%
mutate(type = "slaughter")
View(slaughter)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "count", names_to = "age")  %>%
rename("kind" = "구분...2", "gender" = "구분...3") %>%
mutate(type = "breeding")
total = rbind(breeding, slaughter)
total
View(total)
total <- rbind(breeding, slaughter)
total <- rbind(breeding, slaughter) %>%
group_by(year, month, kind, gender, age)
View(total)
total <- rbind(breeding, slaughter) %>%
group_by(year, month, kind, gender, age, count)
View(total)
total_1 <- merge(breeding, slaughter)
total_1 <- cbind(breeding, slaughter)
total <- rbind(breeding, slaughter) %>%
ungroup() %>%
group_by(year, month, kind, gender, age, count)
View(total)
total <- rbind(breeding, slaughter) %>%
ungroup() %>%
group_by(year, month, kind, gender, age)
View(total)
total <- rbind(breeding, slaughter) %>%
distinct(type)
View(total)
total <- rbind(breeding, slaughter) %>%
group_by(type)
View(total)
total <- rbind(breeding, slaughter) %>%
group_by(age,year,month,gender)
View(total)
total <- rbind(breeding, slaughter) %>%
group_by(age)
View(total)
total <- rbind(breeding, slaughter)
distinct(total$kind=="한우")
distinct(total$kind="한우")
distinct(total$kind=="한우")
distinct(total$gender)
distinct(total$gender)
total %>%
filter(kind=="한우") %>%
distinct(gender)
hanwoo_castrated <- total %>%
filter(kind == "한우" & filter(gender == "거세"))
hanwoo_castrated <- total %>%
filter(kind == "한우") %>%
filter(gender == "거세"))
hanwoo_castrated <- total %>%
filter(kind == "한우") %>%
filter(gender == "거세")
hanwoo_castrated
View(hanwoo_castrated)
hanwoo_cow <- total %>%
filter(kind == "한우") %>%
filter(gender == "암")
View(hanwoo_castrated)
View(hanwoo_cow)
total %>%
group_by(year, month, kind, gender, age) %>%
summarise(type, num = sum(count))
total %>%
group_by(year, month, kind, gender, age) %>%
summarise(type, num = sum(count)) %>%
View()
total %>%
filter(kind=="한우") %>%
distinct(gender) %>%
View()
total <- rbind(breeding, slaughter) %>%
View()
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "count", names_to = "age")  %>%
rename("kind" = "구분...2", "gender" = "구분...3") %>%
mutate(type = "breeding")
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "count", names_to = "age") %>%
rename("kind" = "구분...2", "gender" = "구분...3")  %>%
mutate(type = "slaughter")
total <- rbind(breeding, slaughter) %>%
View()
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "count", names_to = "age")  %>%
rename("kind" = "구분...2", "gender" = "구분...3") %>%
mutate(type = "breeding")
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "count", names_to = "age") %>%
rename("kind" = "구분...2", "gender" = "구분...3")  %>%
mutate(type = "slaughter")
rm(list=ls())
x
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "count", names_to = "age")  %>%
rename("kind" = "구분...2", "gender" = "구분...3") %>%
mutate(type = "breeding")
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "count", names_to = "age") %>%
rename("kind" = "구분...2", "gender" = "구분...3")  %>%
mutate(type = "slaughter")
total <- rbind(breeding, slaughter) %>%
View()
total <- rbind(breeding, slaughter) %>%
View()
rm(total)
total <- rbind(breeding, slaughter)
View(total)
left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age', 'count'='count', 'type'='type')
df <- left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age', 'count'='count', 'type'='type'))
df
View(df)
df <- left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age', 'type'='type'))
View(df)
df <- left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age'))
View(df)
df <- left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age')) %>%
mutate(
rate = count.y/count.x+count.y
)
View(df)
df <- left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age')) %>%
mutate(
rate = count.y/(count.x+count.y)
)
View(df)
df <- left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age')) %>%
mutate(
rate = (count.y/(count.x+count.y))*100
)
View(df)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "breeding_count", names_to = "age")  %>%
rename("kind" = "구분...2", "gender" = "구분...3") %>%
mutate(type = "breeding")
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "slaughter_count", names_to = "age") %>%
rename("kind" = "구분...2", "gender" = "구분...3")  %>%
mutate(type = "slaughter")
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "breeding_count", names_to = "age")  %>%
rename("kind" = "구분...2", "gender" = "구분...3") %>%
mutate(type = "breeding")
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "slaughter_count", names_to = "age") %>%
rename("kind" = "구분...2", "gender" = "구분...3")  %>%
mutate(type = "slaughter")
df <- left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age')) %>%
mutate(
rate = (breeding_count/(breeding_count+slaughter_count))*100
) %>%
View(df)
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "breeding_count", names_to = "age")  %>%
rename("kind" = "구분...2", "gender" = "구분...3") %>%
mutate(type = "breeding")
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "slaughter_count", names_to = "age") %>%
rename("kind" = "구분...2", "gender" = "구분...3")  %>%
mutate(type = "slaughter")
rm(list=ls())
breeding <- read_xlsx("Dataset/14_22사육.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:43, values_to = "breeding_count", names_to = "age")  %>%
rename("kind" = "구분...2", "gender" = "구분...3") %>%
mutate(type = "breeding")
slaughter <- read_xlsx("Dataset/14_22도축.xlsx", sheet = 2) %>%
separate(구분...1, sep = "년", into = c("year", "month")) %>%
mutate(
month = parse_number(month)
) %>%
filter(구분...3 != '소계') %>%
pivot_longer(cols= 5:26, values_to = "slaughter_count", names_to = "age") %>%
rename("kind" = "구분...2", "gender" = "구분...3")  %>%
mutate(type = "slaughter")
df <- left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age')) %>%
mutate(
rate = (breeding_count/(breeding_count+slaughter_count))*100
) %>%
View(df)
df <- left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age')) %>%
mutate(
rate = (breeding_count/(breeding_count+slaughter_count))*100
)
View(df)
?select
df <- left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age')) %>%
mutate(
rate = (breeding_count/(breeding_count+slaughter_count))*100
) %>%
select(-c(type.x,type.y))
View(df)
df <- left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age')) %>%
mutate(
rate = (slaughter_count/(breeding_count+slaughter_count))*100
) %>%
select(-c(type.x,type.y))
View(df)
df <- left_join(breeding, slaughter, by=c('year'='year', 'month'='month', 'kind' = 'kind', 'gender'='gender', 'age'='age')) %>%
mutate(
rate = (slaughter_count/(breeding_count+slaughter_count))*100
) %>%
select(-c(type.x,type.y))
View(df)
